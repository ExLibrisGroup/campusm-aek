## Listviews

### Basic usage

Listviews are a menu variation adopted from AEK 1.x. and are common components in AEK screens. They can be used in either way below. Depending if you are fetching data to generate your list or if its more static.

``` javascript

var {Listview,Item} = require("@ombiel/aek-lib/react/components/listview");

return (
  <Listview>
    <Item>One</Item>
    <Item>Two</Item>
    <Item>Three</Item>
  </Listview>
);

```
------or-------

``` javascript

var Listview = require("@ombiel/aek-lib/react/components/listview");

return <Listview items={["One","Two","Three"]}/>;

```

### Properties

Below is all the different types of property which are available to a listview and the criteria needed for each one

Property              | Type       | Description
----------------------|------------| -----------
**`basicLabel`**      | `boolean`  | Set basic styling for item labels
**`borderless`**      | `boolean`  | Remove borders between listview items
**`flush`**           | `boolean`  | listview is flush against its container with no margin or border
**`formatted`**       | `boolean`  | listview is formatted. Meaning margin is removed from listview item children.
**`inverted`**        | `boolean`  | Invert colour scheme
**`items`**           | `mixed`    | Item data to bind to the listview
**`labelEllipsis`**   | `boolean`  | Prevent label text from wrapping and introduce ellipsis if required
**`labelRight`**      | `boolean`  | Align item label's to the right
**`labelVariation`**  | `string`   | Specify a variation for item labels
**`onClick`**         | `Function` | Set a click handler for each item
**`noItemsContent`**  | `boolean`  | Pass text through to be displayed incase no items are returned.        
**`stackLabels`**     | `mixed`    | Specify if labels should be stacked above the item content - if `"auto"`, the value will be determined based on viewport width
**`thumbBorder`**     | `boolean`  | Should thumbnails have a border
**`thumbContained`**  | `boolean`  | Should irregular thumbnails be contained or cropped
**`thumbRounded`**    | `boolean`  | Should thumbnail have rounded corners
**`thumbSize`**       | `mixed`    | Specify the size of the thumbnail - set to `false` to prevent thumb sizing - defaults to `"medium"`
**`thumbAlt`**        | `string`   | Allows you to define a ALT tag to your thumbnail image.
**`uniformLabels`**   | `boolean`  | Make all item labels the same size (25%)
**`variation`**       | `string`   | Apply a variation style to the listview


_Additional properties will be used as attributes on the generated DOM node as supported by React [supported attributes](https://facebook.github.io/react/docs/tags-and-attributes.html#html-attributes)_

--------

### Items

Item information can be stored and used in a number of different ways.

#### Items as `Array <string>`

<script type="text/aek-example" data-contained>
  var Listview = require("@ombiel/aek-lib/react/components/listview");

  return <Listview items={["One","Two","Three"]}/>;
</script>

#### Items as `Array <Object>`

Items can expose the following attributes which will be mapped to the corresponding `<ListviewItem>` properties.

`active`, `children`, `disabled`, `heading`, `href`, `icon`, `label`, `text`, `thumbnail`

In addition, you can also provide any additional `<ListviewItem>` properties by including a `listviewItemProps` attribute in your item.

```javascript
var items = [
  {text:"Item One",label:"1",listviewItemProps:{labelIcon:"home"}},
  {text:"Item Two",label:"2",listviewItemProps:{labelIcon:"rocket"}}
];

var listview = <Listview items={items}/>;
```

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  var items = [
    {
      icon:"home",
      text:"Morbi leo risus, porta ac",
    },
    {
      icon:"rocket",
      text:"Morbi leo risus, porta ac",
    },
    {
      icon:"dashboard",
      text:"Morbi leo risus, porta ac"
    }
  ];

  return <Listview items={items} />;

</script>

#### Items as `Object`

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  var data = {
    "Label 1":"Text for label one",
    "Label 2":"Text for label two",
    "Label 3":"Text for label three"
  }

  return <Listview items={data} />;

</script>

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  var data = {
    "Label 1":{
      heading:"Title One",
      text:"Text for label one"
    },
    "Label 2":{
      heading:"Title Two",
      text:"Text for label two"
    },
    "Label 3":{
      heading:"Title Three",
      text:"Text for label three"
    }
  }

  return <Listview items={data} />;

</script>

#### No Items

If the items collection is empty (zero length), you can use the `noItemsContent` property to define some default content.

<script type="text/aek-example" data-component="Example">
  var {Listview,ListviewItem} = require("@ombiel/aek-lib/react/components/listview");
  var {Button,ButtonGroup} = require("@ombiel/aek-lib/react/components/button-group");
  var noItems = <ListviewItem disabled><em>No Items</em></ListviewItem>;

  var Example = React.createClass({

    getInitialState:function() {
      return {items:["Item 1","Item 2"]}
    },

    addItem:function(e) {
      e.preventDefault();
      var items = this.state.items;
      this.setState({items:items.concat([`Item ${items.length + 1}`])});
    },

    removeItem:function(e) {
      e.preventDefault();
      var items = this.state.items;
      this.setState({items:items.slice(0,items.length-1)});
    },

    render:function() {

      return (
        <div>
          <ButtonGroup divided>
            <Button icon="minus" variation="negative" onClick={this.removeItem}/>
            <Button icon="plus" variation="positive" onClick={this.addItem}/>
          </ButtonGroup>
          <Listview items={this.state.items} noItemsContent={noItems} />
        </div>
      );

    }

  });

</script>


### Handling Item Clicks

For using item clicks we need to add in additional information such as the href tag.

#### Using `href`

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  var items = [
    {
      icon:"google",
      heading:"Google",
      text:"www.google.com",
      href:"http://www.google.com"
    },
    {
      icon:"facebook",
      heading:"Facebook",
      text:"www.facebook.com",
      href:"http://www.facebook.com"
    },
    {
      icon:"linkedin",
      heading:"LinkedIn",
      text:"www.linkedin.com",
      href:"http://www.linkedin.com"
    }
  ];

  return <Listview items={items} />;

</script>

#### Using `onClick`

We can even create a react function to grab the click and allow you to do something with it.

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  function myClickHandler(item,e) {
    e.preventDefault()
    alert(item.message);
  }

  var items = [
    {
      icon:"home",
      heading:"Home",
      text:"Morbi leo risus, porta ac",
      message:"I am the Home item"
    },
    {
      icon:"rocket",
      heading:"Rocket",
      text:"Morbi leo risus, porta ac",
      message:"I am the Rocket!!"
    },
    {
      icon:"dashboard",
      heading:"Dashboard",
      text:"Morbi leo risus, porta ac",
      message:"I am the Dashboard"
    }
  ];

  return <Listview items={items} onClick={myClickHandler}/>;

</script>

### Labels

You can also create and define labels for listview items.

<script type="text/aek-example" data-contained>

  var {Listview,Item} = require("@ombiel/aek-lib/react/components/listview");

  var items = [
    {label:"One",text:"First Item"},
    {label:"Two",text:"Second Item"},
    {label:"Three",text:"Third Item"}
  ];

  return (
    <div>
      <Listview items={items} />
      <Listview items={items} onClick={(item,e)=>e.preventDefault()}/>
    </div>
  );

</script>

#### Basic Labels

Labels have different styling such as basic.

<script type="text/aek-example" data-contained>

  var {Listview,Item} = require("@ombiel/aek-lib/react/components/listview");

  var items = [
    {label:"One",text:"First Item"},
    {label:"Two",text:"Second Item"},
    {label:"Three",text:"Third Item"}
  ];

  return (
    <div>
      <Listview items={items} basicLabel/>
      <Listview items={items} basicLabel onClick={(item,e)=>e.preventDefault()}/>
    </div>
  );

</script>

#### Label Options

Labels have different options. Play around with the toggles and selections to see the difference when different variables are added.

<script type="text/aek-example" data-component="Example" data-contained>

  var {Listview,Item} = require("@ombiel/aek-lib/react/components/listview");
  var {Grid,Row,Col} = require("@ombiel/aek-lib/react/components/grid");
  var {Toggle} = require("@ombiel/aek-lib/react/components/checkbox");
  var Field = require("@ombiel/aek-lib/react/components/field");
  var Segment = require("@ombiel/aek-lib/react/components/segment");

  var items = [
    {label:"One",text:"First Item"},
    {label:"Two",text:"Second Item",listviewItemProps:{labelIcon:"rocket"}},
    {label:"Three",children:<div><em>Third Item</em></div>},
    {label:"A longer label that might not fit very well",text:"Vestibulum id ligula porta felis euismod semper. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Nulla vitae elit libero, a pharetra augue."}
  ];

  var labelVariations = [["--",null],"alt","prime","positive","negative","warning","info"];
  var stackOptions = [["true",true],["false",false],"auto"];

  var Example = React.createClass({

    getInitialState:function() {
      return {
        basicLabel:false,
        labelVariation:null,
        labelEllipsis:true,
        uniformLabels:false,
        stackLabels:false,
        labelRight:false,
        clickable:false,
        icons:false
      }
    },

    toggleState:function(propName) {
      if(propName === "icons") {
        items.forEach((item)=> {
          item.icon = !this.state[propName] ? "rocket" : null;
        })
      }
      this.setState({[propName]:!this.state[propName]});
    },

    changeVariation:function(e,name,val) {
      this.setState({[name]:val});
    },

    onClick:function(item,e) {
      e.preventDefault();
    },

    render:function() {

      var state = this.state;
      var component = this;

      var toggles = ["basicLabel","labelEllipsis","uniformLabels","labelRight","clickable","icons"].map(function(propName) {
        return (
          <div style={{marginBottom:"0.3em"}}>
            <Toggle label={propName} checked={state[propName]} onChange={component.toggleState.bind(component,propName)} />
          </div>
        );
      });

      var onClick = this.state.clickable ? this.onClick : null;

      return (
        <div>
          <Listview items={items} onClick={onClick} {...state} />
          <Segment>
            <Grid className="ui form">
              <Row>
                <Col>{toggles}</Col>
                <Col>
                  <Field type="select" onChange={this.changeVariation} name="labelVariation" label="labelVariation" value={state.labelVariation} options={labelVariations} size="mini" style={{marginBottom:"0.3em"}} />
                  <Field type="select" onChange={this.changeVariation} name="stackLabels" label="stackLabels" value={state.stackLabels} options={stackOptions} size="mini"/>
                </Col>
              </Row>
            </Grid>
          </Segment>
        </div>
      );
    }
  });

</script>





### Variation

We can also have a variations which will allow you to use the theme colours on your list views.

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  var items = _.range(1,4).map(function(i) {
    return {text:`Item ${i}`,icon:"rocket"}
  });

  items[0].active = true;

  return <Listview items={items} variation="alt" onClick={(item,e)=>e.preventDefault()} />;

</script>



### Inverted

We also have a inverted version again you can use the theme colours on your list views.

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  var items = _.range(1,4).map(function(i) {
    return {text:`Item ${i}`,icon:"home"}
  });

  items[0].active = true;

  return (
    <div>
      <Listview items={items} inverted={true} onClick={(item,e)=>e.preventDefault()}/>
      <Listview items={items} inverted={true} variation="alt" onClick={(item,e)=>e.preventDefault()}/>
    </div>
  );

</script>

### Borderless

Using the variable of borderless allows you to remove the borders from list views.


<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  return <Listview items={["one","two","three"]} borderless={true} onClick={(item,e)=>e.preventDefault()}/>;

</script>


### Thumbnails

Thumbnails can also be added to listviews. See below for the variations we have for the styling of thumbnails. If no size is defined they will default to medium if the size is set to null they will go to natural size.

<script type="text/aek-example" data-component="Example" data-contained>

  var {Listview,Item} = require("@ombiel/aek-lib/react/components/listview");
  var {Grid,Row,Col} = require("@ombiel/aek-lib/react/components/grid");
  var {Toggle} = require("@ombiel/aek-lib/react/components/checkbox");
  var Field = require("@ombiel/aek-lib/react/components/field");
  var Segment = require("@ombiel/aek-lib/react/components/segment");

  var items = _.range(1,6).map(function(i) {
    return {text:`Item ${i}`,thumbnail:`http://lorempixel.com/300/${i}00`}
  });

  var thumbSizes = [{"--":null},"mini","tiny","small","medium","large","big","huge"];

  var Example = React.createClass({

    getInitialState:function() {
      return {thumbSize:"medium",thumbRounded:true}
    },

    toggleState:function(propName) {
      this.setState({[propName]:!this.state[propName]});
    },

    changeVariation:function(e,name,val) {
      this.setState({[name]:val});
    },

    render:function() {

      var state = this.state;
      var component = this;

      var toggles = ["thumbBorder","thumbRounded","thumbContained"].map(function(propName) {
        return (
          <div style={{display:"block",marginBottom:"0.3em"}}>
            <Toggle label={propName} checked={state[propName]} onChange={component.toggleState.bind(component,propName)} />
          </div>
        );
      });

      return (
        <div>
          <Listview items={items} {...state} />
          <Segment>
            <Grid className="ui form">
              <Row>
                <Col>{toggles}</Col>
                <Col>
                  <Field type="select" onChange={this.changeVariation} name="thumbSize" label="thumbSize" value={state.thumbSize} options={thumbSizes} size="mini" />
                </Col>
              </Row>
            </Grid>
          </Segment>
        </div>
      );
    }
  });

</script>

### Item Factory

Listview provides a default `itemFactory` which enables you to bind data in a standardised form to your listview's `items` property. This requires you to provide data with standard properties like `text`, `label`, `heading`, `href`, etc

In some scenarios, you may need to take an arbitrary array of data and map that to your rendered list view items. You can achieve this by defining an `itemFactory`


<script type="text/aek-example" data-contained>

  var {Listview,Item} = require("@ombiel/aek-lib/react/components/listview");

  var items = [
    {
      name:"inbox",
      count:4,
      url:"http://mydomain.com/inbox"
    },
    {
      name:"outbox",
      count:2,
      icon:"refresh",
      url:"http://mydomain.com/outbox"
    },
    {
      name:"sent",
      count:23,
      icon:"mail",
      url:"http://mydomain.com/sent"
    }
  ];

  return <Listview items={items} variation="alt" itemFactory={function(item) {
    return (
      <Item icon={item.icon || item.name} label={item.count} href={item.url} active={item.name=="inbox"} labelRight>
        <span style={{textTransform:"uppercase"}}>{item.name}</span>
      </Item>
    );
  }}/>;

</script>

### Flush

A menu can also be flush with the parent element

<script type="text/aek-example" data-contained>
  var Listview = require("@ombiel/aek-lib/react/components/listview");
  var Segment = require("@ombiel/aek-lib/react/components/segment");

  return (
    <Segment>
      <Listview flush items={["One","Two","Three"]}/>
    </Segment>
  );
</script>


### Formatted

A menu can also have the tag of formatted. This removed margin and padding from H tags and P tags inside a listview item.

<script type="text/aek-example" data-contained>

  var Listview = require("@ombiel/aek-lib/react/components/listview");

  var items = [
    {
      icon:"google",
      heading:"Google",
      text:"www.google.com",
      href:"http://www.google.com"
    },
    {
      icon:"facebook",
      heading:"Facebook",
      text:"www.facebook.com",
      href:"http://www.facebook.com"
    },
    {
      icon:"linkedin",
      heading:"LinkedIn",
      text:"www.linkedin.com",
      href:"http://www.linkedin.com"
    }
  ];

  return (
    <Listview formatted items={items}/>
  );
</script>
