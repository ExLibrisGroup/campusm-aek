## AekReactRouter

`AekReactRouter` is derived from [`AekRouter`](../other-tools/aek-router) with a few modifications to help work with React and with AEK's `RouterView` component.

Below is the basic usage of using the AekReactRouter.

### Basic usage


``` javascript

var {AekReactRouter,RouterView} = require("@ombiel/aek-lib/react/components/router");

var router = new AekReactRouter({
  routes:[
    ["/page1",Page1],
    ["/page2",Page2]
  ]
})

return <RouterView router={router} />;

```

It supports all the members provided by `AekRouter` with the following modifications.

### Constructor

`var router = new AekReactRouter(opts:object={});`

#### `opts`

`useHash:boolean` : see [`AekRouter`](../other-tools/aek-router)

`routes:Array<Array>` : define an array of routes for the router see `addRoutes` below

`defaultHandler` : define a default handler to be used if no other routes match the given path - this defaults to a basic "404"

--------------

### Methods

#### `addRoute(path: string | RegExp, cb: Function | ReactComponent, transform: ?Function): void`

Works like [`AekRouter`](../other-tools/aek-router) but you can provide a `ReactComponent` to handle the path instead of a `Function`. Also you can provide an optional `transform` function. This is additional middleware that is used **_before_** the handler that allows you to modify the route context.

#### `addRoutes(routes: Array<[<string | RegExp]>, <Function | ReactComponent>, <?Function>]>): void`

#### `forceUpdate(): void`

Force the component associated with this router to update

### Properties

#### `Link: ReactComponent`

A ReactComponent for a simple link when clicked will trigger the router to navigate to the specified page (see example below)

-------------------

## RouterView

### Properties

Property        | Type           | Descripion
---------------|-----------------| -----------
**`component`**| `string`        | Component or html tag name to use for the component defaults to `Panel`
**`router`**   | `AekReactRouter`| A router instance to control the component

_ note, if you provide child elements with a `path` property, these can act as routes themselves as demonstrated below _

-------------


<script type="text/aek-example" data-component="Example">

  var Page = require("@ombiel/aek-lib/react/components/page");
  var {Segment,Padding} = require("@ombiel/aek-lib/react/components/segment");
  var {AekReactRouter,RouterView} = require("@ombiel/aek-lib/react/components/router");
  var {Listview,ListviewItem} = require("@ombiel/aek-lib/react/components/listview");
  var Header = require("@ombiel/aek-lib/react/components/header");
  var Input = require("@ombiel/aek-lib/react/components/input");
  var Label = require("@ombiel/aek-lib/react/components/label");
  var _ = require("@ombiel/aek-lib/utils");


  var router = new AekReactRouter({useHash:false});
  var Link = router.Link;

  var ColorPage = React.createClass({
    render:function() {

      var ctx = this.props.ctx;
      var color = ctx.params.color;

      return (
        <Page style={{ color:"white",backgroundColor:color }}>
          <Padding>
            <Header level="3" inverted dividing>{ _.titleCase(color) }</Header>
            <Input value={ctx.path} fluid><Label>Path:</Label><input/></Input>
            <Listview>
              <ListviewItem><Link href="/page/red">Red</Link></ListviewItem>
              <ListviewItem><Link href="/page/green">Green</Link></ListviewItem>
              <ListviewItem><Link href="/page/blue">Blue</Link></ListviewItem>
              <ListviewItem><Link href="/" back>Back to home</Link></ListviewItem>
            </Listview>
          </Padding>
        </Page>
      );
    }
  });

  var Example = React.createClass({
    render:function() {

      return (
        <Segment style={{height:"300px"}}>
          <RouterView router={router}>
            <Page path="/">
              <Padding>
                <Header level="3" dividing>Welcome</Header>
                <p>This is a basic router example. Click on a link below to explore</p>
                <Listview>
                  <ListviewItem><Link href="/page/red">Red</Link></ListviewItem>
                  <ListviewItem><Link href="/page/green">Green</Link></ListviewItem>
                  <ListviewItem><Link href="/page/blue">Blue</Link></ListviewItem>
                </Listview>
              </Padding>
            </Page>
            <ColorPage path="/page/:color"/>
          </RouterView>  
        </Segment>
      );
    }
  });

</script>
