var React = require("react");
var mergeProps = require("../utils/merge-props");
var pickHtmlProps = require("../utils/pick-html-props");
var getChildren = require("../utils/children");
var _ = require("../../utils");

var numbers = ["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen"];

var ButtonGroup = React.createClass({

  render:function() {

    var props = _.extend({},this.props);
    var children = getChildren(this);

    var classSet = props.classSet = {
      ui:true
    };

    if(props.fluid) {
      var numOR = 0;

      for (let child of children){
        var name = child.type.displayName
        if(child.type.displayName == "Or"){
          numOR = numOR + 1
        }
      }

      classSet[numbers[children.length - numOR]] = true;
    }

    ["fluid","vertical","basic","divided"].forEach(function(prop) {
      if(props[prop]) { classSet[prop] = true; }
    });

    ["size","variation"].forEach(function(prop) {
      if(props[prop]) { classSet[props[prop]] = true; }
    });

    classSet.buttons = true;

    props = pickHtmlProps(mergeProps({classSet},this.props));

    return <div {...props}/>;
  }

});

var Or = React.createClass({
  render:function() {
    return <div className="or"/>;
  }
});

ButtonGroup.Button = require("./button");
ButtonGroup.Or = Or;
ButtonGroup.ButtonGroup = ButtonGroup;

module.exports = ButtonGroup;
