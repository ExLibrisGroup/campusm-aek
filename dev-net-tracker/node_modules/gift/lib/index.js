// Generated by CoffeeScript 1.6.3
(function() {
  var Git, Repo, exec;

  exec = require('child_process').exec;

  Repo = require('./repo');

  module.exports = Git = function(path, bare) {
    if (bare == null) {
      bare = false;
    }
    return new Repo(path, bare);
  };

  Git.init = function(path, bare, callback) {
    var bash, _ref;
    if (!callback) {
      _ref = [callback, bare], bare = _ref[0], callback = _ref[1];
    }
    if (bare) {
      bash = "git init --bare .";
    } else {
      bash = "git init .";
    }
    return exec(bash, {
      cwd: path
    }, function(err, stdout, stderr) {
      if (err) {
        return callback(err);
      }
      return callback(err, new Repo(path, bare));
    });
  };

  Git.clone = function(repository, path, callback) {
    var bash;
    bash = "git clone " + repository + " " + path;
    return exec(bash, function(err, stdout, stderr) {
      if (err) {
        return callback(err);
      }
      return callback(err, new Repo(path));
    });
  };

}).call(this);
