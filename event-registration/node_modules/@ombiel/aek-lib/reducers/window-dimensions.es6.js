var _ = require("../utils");

var initDimensions = _.getWindowDimensions();

module.exports = function() {

  var fn = function(state = initDimensions,action) {

    switch(action.type) {
      case "UPDATE_WINDOW_DIMENSIONS":
        state = _.getWindowDimensions();
        break;
    }
    return state;
  };

  fn.setStore = function(store) {
    // monitor windowDimensions
    window.addEventListener("resize",_.debounce(function() {
      store.dispatch({type:"UPDATE_WINDOW_DIMENSIONS"});
    },10));
  };

  return fn;
};
