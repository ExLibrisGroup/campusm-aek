@import "styl/utils.styl"
aekscope ?= unquote('')

aek-css-module(moduleName,defaults,vars...)
  @import "styl/semantic/variables/site"
  @import "styl/variables/site"
  for n,k in defaults
    define(n,k)
  @import "styl/semantic/variables/" + moduleName
  @import "styl/variables/" + moduleName
  for v in vars
    for n,k in v
      define(n,k)
  @import "styl/semantic/definitions/" + moduleName
  @import "styl/semantic/overrides/" + moduleName
  @import "styl/definitions/" + moduleName

aek-css-theme(
  themeName,
  color,
  light=hsl((hue(color) - 8deg),100%,lightness(color) * 1.35),
  background=tint(color,84%),
  textColor=color,
  hover=lighten(color,3),
  down=darken(color,7),
  active=darken(color,5),
  lightDown=darken(light, 7),
  lightHover=lighten(light, 3),
  dividedBorderColor=color,
  ribbonShadow=darken(color,15),
  headerColor=darken(textColor, 5)) {

  themes[themeName] = {
    themeName:themeName,
    color:color,
    light:light,
    background:background,
    textColor:textColor,
    hover:hover,
    down:down,
    active:active,
    lightDown:lightDown,
    lightHover:lightHover,
    dividedBorderColor:dividedBorderColor,
    ribbonShadow:ribbonShadow,
    headerColor:headerColor
  }
}
