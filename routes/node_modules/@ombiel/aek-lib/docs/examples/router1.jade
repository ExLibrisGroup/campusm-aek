extends layout.jade

block prepend head
  title Router Example

block body

  - var attr = {type:"text/aek"}

  script()&attributes(attr).

    var Container = require("@ombiel/aek-lib/react/components/container");
    var {BannerHeader} = require("@ombiel/aek-lib/react/components/header");
    var Page = require("@ombiel/aek-lib/react/components/page");
    var {AekReactRouter,RouterView} = require("@ombiel/aek-lib/react/components/router");
    var {Segment,Padding} = require("@ombiel/aek-lib/react/components/segment");
    var Button = require("@ombiel/aek-lib/react/components/button");
    var {Listview,ListviewItem} = require("@ombiel/aek-lib/react/components/listview");

    var router = new AekReactRouter();
    var Link = router.Link;

    var lorem = "Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Nulla vitae elit libero, a pharetra augue. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur blandit tempus porttitor.";

    var Example = React.createClass({

      render:function() {
        return (
          <Container>
            <RouterView router={router}>
              
              <Page path="/">
                <BannerHeader theme="prime">Intro</BannerHeader>
                <Padding>
                  <Segment>
                    <p>Welcome, click below to see the menu</p>
                    <Link component={Button} icon="list layout" href="/menu">Menu</Link>
                  </Segment>
                </Padding>
              </Page>

              <Page path="/menu">
                <BannerHeader theme="alt">Menu</BannerHeader>
                <Padding>
                  <Listview flush items={["one","two","three"]} itemFactory={function(item,index) {
                    return <Link component={ListviewItem} href={"/page"+(index+1)}>Page {item}</Link>;
                  }}/>
                </Padding>
              </Page>

              <Page path="/page1">
                <BannerHeader theme="alt">Page One</BannerHeader>
                <Padding>
                  <Segment><p>{lorem}</p></Segment>
                </Padding>
              </Page>

              <Page path="/page2">
                <BannerHeader theme="alt">Page Two</BannerHeader>
                <Padding>
                  <Segment><p>{lorem}</p></Segment>
                </Padding>
              </Page>

              <Page path="/page3">
                <BannerHeader theme="alt">Page Three</BannerHeader>
                <Padding>
                  <Segment>
                    <p>{lorem}</p>
                    <p><Link href="/" back>Back to intro</Link></p>
                  </Segment>
                </Padding>
              </Page>

            </RouterView>
          </Container>
        );
      }

    });

    React.render(<Example/>,document.body);




