module.exports = (api)=>{
  api.cache.forever();
  return {

    sourceType: "unambiguous",

    exclude(path) {
      return !!path.replace(/[/\\]node_modules[/\\](@ombiel|react-icons)[/\\]/g,"").match(/[/\\]node_modules[/\\]/);
    },

    presets: [
      [
        "@babel/preset-env",
        {
          targets: {
            browsers: ["last 2 versions","> 1%","ie > 10","Android >= 4","iOS >= 10"],
          },
          useBuiltIns: "usage",
          modules: process.env.NODE_ENV === "test" ? "commonjs" : false,
        }
      ],
      "@babel/preset-react",
    ],
    plugins: [
      "lodash",
      "@babel/plugin-proposal-object-rest-spread",
      "@babel/plugin-proposal-class-properties",
      // "babel-plugin-webpack-alias",
    ],
    env: {
      production: {
        plugins: [
          "transform-react-remove-prop-types",
        ]
      },
    }
  };
};
