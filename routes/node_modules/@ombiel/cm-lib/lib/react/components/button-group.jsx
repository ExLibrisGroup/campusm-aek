import "./base.aekcss";
import "./button.aekcss";
import "./icon.aekcss";

import {extend,get} from "lodash";

import React from "react";
import mergeProps from "../utils/merge-props";
import pickHtmlProps from "../utils/pick-html-props";
import getChildren from "../utils/children";

var numbers = ["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen"];

export function ButtonGroup(props) {

  let newProps = extend({},props);
  var children = getChildren(props);

  var classSet = {
    ui: true
  };

  newProps.classSet = classSet;

  if (newProps.fluid) {

    const buttonChildren = children.filter((child)=>{
      return !get(child,"type.noButtonGroupCount");
    });

    classSet[numbers[buttonChildren.length]] = true;
  }

  ["fluid","vertical","basic","divided"].forEach(function(prop) {
    if (newProps[prop]) { classSet[prop] = true; }
  });

  ["size","variation"].forEach(function(prop) {
    if (newProps[prop]) { classSet[props[prop]] = true; }
  });

  classSet.buttons = true;

  newProps = pickHtmlProps(mergeProps({classSet},newProps));

  return <div {...newProps} />;
}


export function Or() {
  return <div className="or" />;
}

Or.noButtonGroupCount = true;
